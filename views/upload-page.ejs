<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Upload</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/upload-page.css" />
  </head>
  <body>
    <header class="flex-row">
      <h1>Upload Page</h1>
      <nav>
        <div class="btn-holder" data-name="upload-btn-holder">
          <button class="active" data-name="upload-folder">
            Upload Folder
          </button>
          <button data-name="upload-file">Upload Files</button>
          <button data-name="log-out">Log out</button>
        </div>
      </nav>
    </header>
    <main>
      <section>
        <dialog data-name="folder-modal" class="folder-modal">
          <%- include("./partials/new-folder-form")%>
        </dialog>
      </section>
      <section>
        <div
          class="flex-column upload-holder"
          data-name="upload-folder-form-holder"
        >
          <%- include("./partials/upload-folder-form.ejs") %>
        </div>

        <div
          class="flex-column upload-holder"
          data-name="upload-file-form-holder"
        >
          <%- include("./partials/upload-file-form.ejs") %>
        </div>
        <div class="progress-bar-holder hidden">
          <div id="progress-bar" class="progress-bar"></div>
        </div>
      </section>
      <section>
        <div class="flex-row show-btn-holder" data-name="show-by-holder">
          <p>show By</p>
          <button class="show-link active" data-name="show-folders">
            Folders
          </button>
          <span class="slash">/</span>
          <button class="show-link" data-name="show-files">Files</button>
        </div>
      </section>
      <section class="flex-row uploads">
        <div>
          <ul
            data-name="folder-list-holder"
            class="flex-column folder-list-holder"
          >
            <% if (folders.length > 0) { %> <% folders.forEach((folder) => { %>
            <%- include("./partials/upload-folder.ejs", { folder: folder }) %>
            <% }) %> <% } %>
          </ul>
        </div>
        <div>
          <ul
            data-name="file-list-holder"
            class="flex-row file-list-holder hidden"
          >
            <% if (files.length > 0) { %> <% files.forEach((file) => { %> <%-
            include("./partials/upload-item.ejs", { file: file}) %> <% }) %> <%
            } %>
          </ul>
        </div>
      </section>
    </main>
    <script type="module" src="/scripts/upload-page.js"></script>
  </body>
</html>
